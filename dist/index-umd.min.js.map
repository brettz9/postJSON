{"version":3,"file":"index-umd.min.js","sources":["../src/index.js"],"sourcesContent":["/* eslint-env browser */\n\nfunction status (response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  }\n  return Promise.reject(new Error(response.statusText));\n}\nfunction retrieval (response) {\n  return response.json();\n}\nfunction postJSON (url, bodyObject, cb, errBack) {\n  const dataObject = {\n    method: 'post',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  };\n  let credentials = 'same-origin', statusCb = status, retrievalCb = retrieval;\n  if (url && typeof url === 'object') {\n    bodyObject = url.body || bodyObject;\n    cb = url.callback || cb;\n    errBack = url.errBack || errBack;\n\n    // Properties only available via this object argument API\n    statusCb = url.status || status;\n    retrievalCb = url.retrieval || retrieval;\n    credentials = url.credentials || credentials; // \"omit\" (default), \"same-origin\", \"include\"\n    dataObject.headers = postJSON.objectAssign(dataObject.headers, url.headers);\n\n    url = url.url;\n  }\n  if (bodyObject) {\n    dataObject.body = JSON.stringify(bodyObject);\n  }\n  dataObject.credentials = credentials;\n  let ret = (typeof fetch !== 'undefined' ? fetch : postJSON.fetch)(url, dataObject).then(statusCb).then(retrievalCb);\n  if (cb) {\n    ret = ret.then(cb);\n  }\n  if (errBack) {\n    ret = ret.catch(errBack);\n  }\n  return ret;\n}\npostJSON.retrieval = retrieval;\npostJSON.status = status;\n\nexport default postJSON;\n"],"names":["status","response","Promise","resolve","reject","Error","statusText","retrieval","json","postJSON","url","bodyObject","cb","errBack","dataObject","method","headers","Accept","credentials","statusCb","retrievalCb","_typeof","body","callback","objectAssign","JSON","stringify","ret","fetch","then","catch"],"mappings":"yZAEA,SAASA,EAAQC,UACXA,EAASD,QAAU,KAAOC,EAASD,OAAS,IACvCE,QAAQC,QAAQF,GAElBC,QAAQE,OAAO,IAAIC,MAAMJ,EAASK,aAE3C,SAASC,EAAWN,UACXA,EAASO,OAElB,SAASC,EAAUC,EAAKC,EAAYC,EAAIC,OAChCC,EAAa,CACjBC,OAAQ,OACRC,QAAS,CACPC,OAAQ,kCACQ,qBAGhBC,EAAc,cAAeC,EAAWnB,EAAQoB,EAAcb,EAC9DG,GAAsB,WAAfW,EAAOX,KAChBC,EAAaD,EAAIY,MAAQX,EACzBC,EAAKF,EAAIa,UAAYX,EACrBC,EAAUH,EAAIG,SAAWA,EAGzBM,EAAWT,EAAIV,QAAUA,EACzBoB,EAAcV,EAAIH,WAAaA,EAC/BW,EAAcR,EAAIQ,aAAeA,EACjCJ,EAAWE,QAAUP,EAASe,aAAaV,EAAWE,QAASN,EAAIM,SAEnEN,EAAMA,EAAIA,KAERC,IACFG,EAAWQ,KAAOG,KAAKC,UAAUf,IAEnCG,EAAWI,YAAcA,MACrBS,GAAwB,oBAAVC,MAAwBA,MAAQnB,EAASmB,OAAOlB,EAAKI,GAAYe,KAAKV,GAAUU,KAAKT,UACnGR,IACFe,EAAMA,EAAIE,KAAKjB,IAEbC,IACFc,EAAMA,EAAIG,MAAMjB,IAEXc,SAETlB,EAASF,UAAYA,EACrBE,EAAST,OAASA"}